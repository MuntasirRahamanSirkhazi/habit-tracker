{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/my%20pc/OneDrive/Desktop/habit%20tarcker/habittracker/src/lib/supabaseClient.js"],"sourcesContent":["// src/lib/supabaseClient.js\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAGR;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/my%20pc/OneDrive/Desktop/habit%20tarcker/habittracker/src/app/habits/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"../../lib/supabaseClient\";\r\n\r\nexport default function HabitsPage() {\r\n  const [habits, setHabits] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [form, setForm] = useState({ name: \"\", status: \"\" });\r\n  const [loading, setLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  // Get current user and fetch habits\r\n  useEffect(() => {\r\n    const fetchHabits = async () => {\r\n      setLoading(true);\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) {\r\n        router.push(\"/login\");\r\n        return;\r\n      }\r\n      const { data, error } = await supabase\r\n        .from(\"habit\")\r\n        .select(\"*\")\r\n        .eq(\"user_id\", user.id)\r\n        .order(\"id\", { ascending: true });\r\n      if (!error) setHabits(data || []);\r\n      setLoading(false);\r\n    };\r\n    fetchHabits();\r\n  }, [router]);\r\n\r\n  const handleAddHabit = async (e) => {\r\n    e.preventDefault();\r\n    if (!form.name || !form.status) return;\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    if (!user) return;\r\n    const { data, error } = await supabase\r\n      .from(\"habit\")\r\n      .insert([\r\n        {\r\n          user_id: user.id,\r\n          name: form.name,\r\n          status: form.status,\r\n        }\r\n      ])\r\n      .select();\r\n    if (!error && data) setHabits([...habits, data[0]]);\r\n    setForm({ name: \"\", status: \"\" });\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const { error } = await supabase.from(\"habit\").delete().eq(\"id\", id);\r\n    if (!error) setHabits(habits.filter((h) => h.id !== id));\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    router.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Navbar */}\r\n      <nav className=\"bg-blue-600 px-8 py-4 flex items-center justify-between\">\r\n        <span className=\"text-3xl font-bold text-white\">HabitTracker</span>\r\n        <div className=\"space-x-8\">\r\n          <button\r\n            className=\"text-white font-semibold text-lg hover:underline\"\r\n            onClick={() => router.push(\"/habits\")}\r\n          >\r\n            Dashboard\r\n          </button>\r\n          <button\r\n            className=\"text-white font-semibold text-lg hover:underline\"\r\n            onClick={() => router.push(\"/profile\")}\r\n          >\r\n            Profile\r\n          </button>\r\n          <button\r\n            className=\"text-white font-semibold text-lg hover:underline\"\r\n            onClick={handleLogout}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Habits Area */}\r\n      <div className=\"max-w-5xl mx-auto mt-10 bg-white rounded-2xl shadow p-8\">\r\n        <h2 className=\"text-4xl font-bold text-center mb-8 text-gray-800\">Your Habits</h2>\r\n        <table className=\"w-full mb-6\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"bg-blue-500 text-white py-3 px-2 rounded-tl-lg\">ID</th>\r\n              <th className=\"bg-blue-500 text-white py-3 px-2\">Habit Name</th>\r\n              <th className=\"bg-blue-500 text-white py-3 px-2\">Status</th>\r\n              <th className=\"bg-blue-500 text-white py-3 px-2\">Created On</th>\r\n              <th className=\"bg-blue-500 text-white py-3 px-2 rounded-tr-lg\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {loading ? (\r\n              <tr>\r\n                <td colSpan={5} className=\"text-center py-6 text-gray-500\">\r\n                  Loading...\r\n                </td>\r\n              </tr>\r\n            ) : habits.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={5} className=\"text-center py-6 text-gray-500\">\r\n                  No habits yet.\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              habits.map((habit) => (\r\n                <tr key={habit.id} className=\"text-center border-b\">\r\n                  <td className=\"py-3\">{habit.id}</td>\r\n                  <td className=\"py-3 font-semibold\">{habit.name}</td>\r\n                  <td className=\"py-3\">{habit.status}</td>\r\n                  <td className=\"py-3\">{habit.created_on}</td>\r\n                  <td className=\"py-3\">\r\n                    <button\r\n                      className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\"\r\n                      onClick={() => handleDelete(habit.id)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n\r\n        {/* Add Habit Button */}\r\n        <button\r\n          className={`bg-blue-500 hover:bg-blue-600 text-white font-semibold px-6 py-2 rounded mb-6 ${showForm ? \"ring-2 ring-black\" : \"\"}`}\r\n          onClick={() => setShowForm((v) => !v)}\r\n        >\r\n          + Add Habit\r\n        </button>\r\n\r\n        {/* Add Habit Form */}\r\n        {showForm && (\r\n          <form\r\n            onSubmit={handleAddHabit}\r\n            className=\"bg-white border rounded-xl p-6 mt-4 flex flex-col gap-4 max-w-xl mx-auto\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter habit name\"\r\n              className=\"border rounded px-4 py-3\"\r\n              value={form.name}\r\n              onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n              required\r\n            />\r\n            <select\r\n              className=\"border rounded px-4 py-3\"\r\n              value={form.status}\r\n              onChange={(e) => setForm({ ...form, status: e.target.value })}\r\n              required\r\n            >\r\n              <option value=\"\">Select status</option>\r\n              <option value=\"Pending\">Pending</option>\r\n              <option value=\"Completed\">Completed</option>\r\n            </select>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-6 py-2 rounded\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yLAAQ,EAAC,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yLAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yLAAQ,EAAC;QAAE,MAAM;QAAI,QAAQ;IAAG;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yLAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kKAAS;IAExB,oCAAoC;IACpC,IAAA,0LAAS;gCAAC;YACR,MAAM;oDAAc;oBAClB,WAAW;oBACX,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,2JAAQ,CAAC,IAAI,CAAC,OAAO;oBACtD,IAAI,CAAC,MAAM;wBACT,OAAO,IAAI,CAAC;wBACZ;oBACF;oBACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2JAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,MAAM;wBAAE,WAAW;oBAAK;oBACjC,IAAI,CAAC,OAAO,UAAU,QAAQ,EAAE;oBAChC,WAAW;gBACb;;YACA;QACF;+BAAG;QAAC;KAAO;IAEX,MAAM,iBAAiB,OAAO;QAC5B,EAAE,cAAc;QAChB,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,MAAM,EAAE;QAChC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,2JAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2JAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC;YACN;gBACE,SAAS,KAAK,EAAE;gBAChB,MAAM,KAAK,IAAI;gBACf,QAAQ,KAAK,MAAM;YACrB;SACD,EACA,MAAM;QACT,IAAI,CAAC,SAAS,MAAM,UAAU;eAAI;YAAQ,IAAI,CAAC,EAAE;SAAC;QAClD,QAAQ;YAAE,MAAM;YAAI,QAAQ;QAAG;QAC/B,YAAY;IACd;IAEA,MAAM,eAAe,OAAO;QAC1B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2JAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,MAAM;QACjE,IAAI,CAAC,OAAO,UAAU,OAAO,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACtD;IAEA,MAAM,eAAe;QACnB,MAAM,2JAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6MAAC;QAAI,WAAU;;0BAEb,6MAAC;gBAAI,WAAU;;kCACb,6MAAC;wBAAK,WAAU;kCAAgC;;;;;;kCAChD,6MAAC;wBAAI,WAAU;;0CACb,6MAAC;gCACC,WAAU;gCACV,SAAS,IAAM,OAAO,IAAI,CAAC;0CAC5B;;;;;;0CAGD,6MAAC;gCACC,WAAU;gCACV,SAAS,IAAM,OAAO,IAAI,CAAC;0CAC5B;;;;;;0CAGD,6MAAC;gCACC,WAAU;gCACV,SAAS;0CACV;;;;;;;;;;;;;;;;;;0BAOL,6MAAC;gBAAI,WAAU;;kCACb,6MAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAClE,6MAAC;wBAAM,WAAU;;0CACf,6MAAC;0CACC,cAAA,6MAAC;;sDACC,6MAAC;4CAAG,WAAU;sDAAiD;;;;;;sDAC/D,6MAAC;4CAAG,WAAU;sDAAmC;;;;;;sDACjD,6MAAC;4CAAG,WAAU;sDAAmC;;;;;;sDACjD,6MAAC;4CAAG,WAAU;sDAAmC;;;;;;sDACjD,6MAAC;4CAAG,WAAU;sDAAiD;;;;;;;;;;;;;;;;;0CAGnE,6MAAC;0CACE,wBACC,6MAAC;8CACC,cAAA,6MAAC;wCAAG,SAAS;wCAAG,WAAU;kDAAiC;;;;;;;;;;2CAI3D,OAAO,MAAM,KAAK,kBACpB,6MAAC;8CACC,cAAA,6MAAC;wCAAG,SAAS;wCAAG,WAAU;kDAAiC;;;;;;;;;;2CAK7D,OAAO,GAAG,CAAC,CAAC,sBACV,6MAAC;wCAAkB,WAAU;;0DAC3B,6MAAC;gDAAG,WAAU;0DAAQ,MAAM,EAAE;;;;;;0DAC9B,6MAAC;gDAAG,WAAU;0DAAsB,MAAM,IAAI;;;;;;0DAC9C,6MAAC;gDAAG,WAAU;0DAAQ,MAAM,MAAM;;;;;;0DAClC,6MAAC;gDAAG,WAAU;0DAAQ,MAAM,UAAU;;;;;;0DACtC,6MAAC;gDAAG,WAAU;0DACZ,cAAA,6MAAC;oDACC,WAAU;oDACV,SAAS,IAAM,aAAa,MAAM,EAAE;8DACrC;;;;;;;;;;;;uCATI,MAAM,EAAE;;;;;;;;;;;;;;;;kCAoBzB,6MAAC;wBACC,WAAW,AAAC,iFAAoH,OAApC,WAAW,sBAAsB;wBAC7H,SAAS,IAAM,YAAY,CAAC,IAAM,CAAC;kCACpC;;;;;;oBAKA,0BACC,6MAAC;wBACC,UAAU;wBACV,WAAU;;0CAEV,6MAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,WAAU;gCACV,OAAO,KAAK,IAAI;gCAChB,UAAU,CAAC,IAAM,QAAQ;wCAAE,GAAG,IAAI;wCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oCAAC;gCACzD,QAAQ;;;;;;0CAEV,6MAAC;gCACC,WAAU;gCACV,OAAO,KAAK,MAAM;gCAClB,UAAU,CAAC,IAAM,QAAQ;wCAAE,GAAG,IAAI;wCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAC3D,QAAQ;;kDAER,6MAAC;wCAAO,OAAM;kDAAG;;;;;;kDACjB,6MAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,6MAAC;wCAAO,OAAM;kDAAY;;;;;;;;;;;;0CAE5B,6MAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GA9KwB;;QAKP,kKAAS;;;KALF","debugId":null}}]
}