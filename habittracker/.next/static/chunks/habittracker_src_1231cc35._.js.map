{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/my%20pc/OneDrive/Desktop/habit%20tarcker/habittracker/src/lib/supabaseClient.js"],"sourcesContent":["// src/lib/supabaseClient.js\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAGR;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/my%20pc/OneDrive/Desktop/habit%20tarcker/habittracker/src/app/resetpass/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"../../lib/supabaseClient\";\r\n\r\nexport default function ResetPasswordPage() {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMsg(\"\");\r\n    setError(\"\");\r\n    // 1. Update password in Supabase Auth\r\n    const { error: updateError } = await supabase.auth.updateUser({ password });\r\n    if (updateError) {\r\n      setError(updateError.message);\r\n      return;\r\n    }\r\n    // 2. Get current user\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    if (user) {\r\n      // 3. Insert into resetpass table\r\n      await supabase\r\n        .from(\"resetpass\")\r\n        .insert([{ user_id: user.id, new_password: password }]);\r\n    }\r\n    setMsg(\"Password updated! You can now log in.\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n      <form className=\"bg-white p-8 rounded shadow\" onSubmit={handleSubmit}>\r\n        <h2 className=\"text-2xl font-bold mb-4 text-center text-blue-700\">Set New Password</h2>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"New password\"\r\n          className=\"border rounded px-4 py-2 w-full mb-4\"\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        <button className=\"bg-blue-600 text-white px-6 py-2 rounded w-full font-semibold\" type=\"submit\">\r\n          Set Password\r\n        </button>\r\n        {msg && <div className=\"mt-4 text-center text-green-600\">{msg}</div>}\r\n        {error && <div className=\"mt-4 text-center text-red-600\">{error}</div>}\r\n        <div className=\"mt-6 text-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"text-blue-600 hover:underline\"\r\n            onClick={() => router.push(\"/login\")}\r\n          >\r\n            Back to Login\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yLAAQ,EAAC;IACzC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yLAAQ,EAAC;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yLAAQ,EAAC;IACnC,MAAM,SAAS,IAAA,kKAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,OAAO;QACP,SAAS;QACT,sCAAsC;QACtC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,2JAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE;QAAS;QACzE,IAAI,aAAa;YACf,SAAS,YAAY,OAAO;YAC5B;QACF;QACA,sBAAsB;QACtB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,2JAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,MAAM;YACR,iCAAiC;YACjC,MAAM,2JAAQ,CACX,IAAI,CAAC,aACL,MAAM,CAAC;gBAAC;oBAAE,SAAS,KAAK,EAAE;oBAAE,cAAc;gBAAS;aAAE;QAC1D;QACA,OAAO;IACT;IAEA,qBACE,6MAAC;QAAI,WAAU;kBACb,cAAA,6MAAC;YAAK,WAAU;YAA8B,UAAU;;8BACtD,6MAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAClE,6MAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,WAAU;oBACV,OAAO;oBACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;oBACzC,QAAQ;;;;;;8BAEV,6MAAC;oBAAO,WAAU;oBAAgE,MAAK;8BAAS;;;;;;gBAG/F,qBAAO,6MAAC;oBAAI,WAAU;8BAAmC;;;;;;gBACzD,uBAAS,6MAAC;oBAAI,WAAU;8BAAiC;;;;;;8BAC1D,6MAAC;oBAAI,WAAU;8BACb,cAAA,6MAAC;wBACC,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,OAAO,IAAI,CAAC;kCAC5B;;;;;;;;;;;;;;;;;;;;;;AAOX;GAxDwB;;QAIP,kKAAS;;;KAJF","debugId":null}}]
}